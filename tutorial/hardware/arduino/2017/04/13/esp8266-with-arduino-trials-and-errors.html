<!DOCTYPE html>
<html>
	<head>
		<title>ESP8266 with Arduino - Trials and Errors</title>
		<link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">
		<link rel="stylesheet" href="/css/main.css" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Antic+Slab|Catamaran|Hind:300|Inconsolata|Josefin+Sans|Muli:300,400i|Poiret+One|Rajdhani:300|Rock+Salt|Ruda|Scope+One|Shadows+Into+Light|Source+Code+Pro|Space+Mono|Amatic+SC:700" rel="stylesheet">
		<link rel="stylesheet" href="/css/github-markdown.css">

		<!-- Place jquery before bootstrap -->
		<script type="text/javascript" src="/js/jquery.min.js"></script>
		<script type="text/javascript" src="/js/bootstrap.min.js"></script>
	</head>
	<body>
		<nav class="navbar navbar-default navbar-fixed-top">
	<div class="container-fluid">

		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">MyCoon</a>
		</div>

		<div class="collapse navbar-collapse" id="navbar-collapse">

			<form class="navbar-form navbar-left">
				<div class="form-group">
					<input type="text" class="form-control" placeholder="Search">
				</div>
				<button type="submit" class="btn btn-default">Submit</button>
			</form>

			<ul class="nav navbar-nav navbar-right" id="nav-links">
				<li class="nav-home"><a href="/">Home</a></li>
				<li class="dropdown nav-blog">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
						Blog<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li><a href="/blog">MyCoon Blog</a></li>
						<li role="separator" class="divider"></li>
						<li><a href="/blog/categories">Categories</a></li>
						
							
						

						
							
							
							<li class="category">
								<a href="/blog/tech">
									<span>Tech</span>
									<span>4</span>
								</a>
							</li>
						
							
							
							<li class="category">
								<a href="/blog/notes">
									<span>Notes</span>
									<span>5</span>
								</a>
							</li>
						
						<li><a href="/blog/tags">Tags</a></li>
					</ul>
				</li>
				<li class="dropdown nav-tutorial">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
						Tutorials<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li><a href="/tutorial">MyCoon Tutorial</a></li>
						<li role="separator" class="divider"></li>
						<li><a href="/tutorial/categories">Categories</a></li>
						
							
						

						
							
							
							<li class="category">
								<a href="/tutorial/hardware">
								<span>Hardware</span>
								<span>1</span></a>
							</li>
						
						<li><a href="/tutorial/tags">Tags</a></li>
					</ul>
				</li>
				<li  class="nav-project"><a href="/project">Projects</a></li>
				<li class="nav-special" id="special"><a href="#">?</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</div><!-- /.container-fluid -->
</nav>
		<main class="page-content post" aria-label="Content">
	<div class="post-wrapper">
		<div class="wrapper">
	<article class="post-article" itemscope itemtype="http://schema.org/BlogPosting">

		<header class="post-header">
			<h1 class="post-title" itemprop="name headline">ESP8266 with Arduino - Trials and Errors</h1>
			<p class="post-meta">Apr 13, 2017
				 • Hardware
				 • pyliaorachel
			</p>
		</header>

		

		<span class="separator"> • • • </span>

		<div class="post-content" itemprop="articleBody">
			<p>ESP8266 is a popular WiFi module for its extremely affordable price. However, more errors tend to be encountered during the setup of this primitive module. </p>

<p>In this tutorial, the basic steps of setting up ESP8266 through an Arduino board would be covered, and some personal trials and errors will be shared in hope to save people&#39;s time and life if they are stuck with the same problems as I did.</p>

<!--more-->

<hr>

<p><em>I am actually an Arduino beginner and a software person. But in turn, I faced more errors than others, managed to solved them, and have more to share with other people who are also new to Arduino and ESP8266 WiFi module!</em></p>

<h1>Introduction &amp; Setup</h1>

<h2>What is ESP8266?</h2>

<p>An extremely affordable hardware component ($USD 3) to connect to WiFi. </p>

<p>Comes with a variety of different models, which are all based on the same chip. The most popular model is ESP-03, which is of similar price to ESP-01 that I will be using in this tutorial, but with more ports (<em>so regretful, should have picked this one!</em>).</p>

<p><img src="http://i2.wp.com/randomnerdtutorials.com/wp-content/uploads/2015/01/all_esp_modules1.png?resize=600%2C337" alt="ESP models"></p>

<h2>Components</h2>

<ol>
<li><a href="https://world.taobao.com/item/40484626466.htm">ESP8266 WiFi module ESP-01</a> (or other)</li>
<li>Arduino Mega board (or others)</li>
<li><a href="https://world.taobao.com/item/522587064231.htm?spm=a312a.7700714.0.0.LOoy8V#detail">Logic level converter</a> (optional)</li>
<li>Breadboard, wires, ...</li>
</ol>

<h2>Before You Start...</h2>

<p>Ok, here are some advice before you read on.</p>

<ol>
<li>If you don&#39;t know what <strong>AT command</strong> is, DON&#39;T SKIP THE SECTION INTRODUCING IT. I&#39;ll make it simple, I promise, but don&#39;t directly dive into writing the codes before you know the basics of AT commands like I did - you&#39;ll end up wasting more time dealing with errors.</li>
<li>Always start with the most basic examples.</li>
<li>Just to let you know, <strong>Arduino is not necessary for you to program ESP8266</strong>. Interestingly, more tutorials I found online deal with it with a USB to serial converter such as the <strong>FTDI232R</strong> module. Follow this tutorial if you have an Arduino board with you, or else you can follow the nice tutorials I took reference on in the reference list.</li>
</ol>

<h1>Getting Started!</h1>

<p>The following contents will be walked through:</p>

<ol>
<li>Hooking Up ESP8266 + Sending AT Commands</li>
<li>Programing ESP8266</li>
<li>Connecting to WiFi

<ol>
<li>Client Example</li>
<li>Server Example</li>
</ol></li>
</ol>

<h2>1. Hooking Up ESP8266 + Sending AT Commands</h2>

<p>Here are the pins for ESP-01 model:</p>

<p><img src="https://raw.githubusercontent.com/pyliaorachel/pyliaorachel.github.io/master/assets/post_img/ESP8266-pins.png" alt="pins"></p>

<h3>Connections</h3>

<table><thead>
<tr>
<th style="text-align: center">ESP8266</th>
<th style="text-align: center">Arduino</th>
<th style="text-align: center">Others</th>
<th style="text-align: left">Purpose</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">Vcc</td>
<td style="text-align: center">-</td>
<td style="text-align: center">3.3V</td>
<td style="text-align: left">Power supply</td>
</tr>
<tr>
<td style="text-align: center">GND</td>
<td style="text-align: center">GND</td>
<td style="text-align: center">GND</td>
<td style="text-align: left">Ground</td>
</tr>
<tr>
<td style="text-align: center">Rx</td>
<td style="text-align: center">Rx</td>
<td style="text-align: center">-</td>
<td style="text-align: left">Receive data in</td>
</tr>
<tr>
<td style="text-align: center">Tx</td>
<td style="text-align: center">Tx</td>
<td style="text-align: center">-</td>
<td style="text-align: left">Transmit data out</td>
</tr>
<tr>
<td style="text-align: center">CH_PD</td>
<td style="text-align: center">-</td>
<td style="text-align: center">Normally 3.3V</td>
<td style="text-align: left">Chip power down</td>
</tr>
<tr>
<td style="text-align: center">RESET</td>
<td style="text-align: center">-</td>
<td style="text-align: center">3.3V for normal operations / GND for reset</td>
<td style="text-align: left">Reset</td>
</tr>
<tr>
<td style="text-align: center">GPIO0</td>
<td style="text-align: center">-</td>
<td style="text-align: center">- for normal operations / GND for flashing firmware</td>
<td style="text-align: left">General purpose I/O pins, but used in flashing firmware</td>
</tr>
<tr>
<td style="text-align: center">GPIO2</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: left">General purpose I/O pin</td>
</tr>
</tbody></table>

<h5>Key Notes</h5>

<ol>
<li><strong>NEVER</strong> connect Vcc and other pins to 5V.

<ul>
<li>ESP8266 operates on 3.3V; connecting pins to 5V may damage the module.</li>
<li>For Rx/Tx pins, the one receiving data through Arduino board should theoretically also be logically shifted down to 5V; but many people didn&#39;t encounter problem connecting them directly to each other&#39;s pins, including me.</li>
</ul></li>
<li><strong>DON&#39;T</strong> connect 3.3V power pin of Arduino to ESP8266. Use a <strong>logic level converter</strong> to bring 5V down to 3.3V.

<ul>
<li>The max limit of current flowing out of that pin is around 50 mA, which usually is not enough. That&#39;s why we need a <strong>logic level converter</strong>; there are <a href="http://randomnerdtutorials.com/how-to-level-shift-5v-to-3-3v/">other ways</a> to bring 5V down to 3.3V, but using logic level converter ensures a better transmission performance. You can also connect it to external power source, which should be the best way.</li>
</ul></li>
<li><strong>Rx-Rx, Tx-Tx</strong> for uploading program from computer to ESP8266 <strong>via Arduino board</strong>; <strong>Rx-Tx, Tx-Rx</strong> for letting Arduino board talk to ESP8266.

<ul>
<li>Think of Rx-Rx, Tx-Tx as making Arduino board a channel between the computer and ESP8266; whatever goes to the Arduino board goes to ESP8266, and whatever ESP8266 sends back goes to the computer! </li>
<li>Think of Rx-Tx, Tx-Rx as making Arduino talk to ESP8266, so probably you would have some program in Arduino sending and receiving data/commands via its own serial ports.</li>
</ul></li>
<li>I don&#39;t know what CH_PD port does. So you just leave it at 3.3V.</li>
<li>If thinking of ESP8266 as an Arduino board, Rx, Tx, GPIO0, and GPIO2 are the possible digital pins, where Rx/Tx are the predefined Serial ports.

<ul>
<li>If you are programming directly into ESP8266, then when using up Rx and Tx, you would probably find yourself out of Serial ports for debugging. I&#39;m not sure how it can be solved, but probably you can <a href="https://github.com/esp8266/Arduino/blob/master/doc/reference.md">set GPIO2 as the TX pin</a> or <a href="http://www.forward.com.au/pfod/ESP8266/GPIOpins/index.html">extend your ports</a>. Not sure if they make sense for ESP-01 model (try it and tell me).</li>
<li><a href="http://www.forward.com.au/pfod/ESP8266/GPIOpins/index.html">Learn more on GPIO ports</a></li>
</ul></li>
</ol>

<h2>2. Programing ESP8266</h2>

<h2>3. Connecting to WiFi</h2>

<h3>1. Client Example</h3>

<h3>2. Server Example</h3>

		</div>

		<ul class="tag-list">
			

			<li class="tag">
				arduino
			</li>

			

			<li class="tag">
				esp8266
			</li>

			
		</ul>

	</article>

	
		<div id="disqus_thread"></div>
<script>
	var disqus_config = function () {
	    this.page.url = "https://pyliaorachel.github.io";
	    this.page.identifier = "/tutorial/hardware/arduino/2017/04/13/esp8266-with-arduino-trials-and-errors.html";
	};
	(function() {
	    var d = document, s = d.createElement('script');
	    s.src = '//pyliaorachel.disqus.com/embed.js';
	    s.setAttribute('data-timestamp', +new Date());
	    (d.head || d.body).appendChild(s);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	
</div>
	</div>
</main>
		<footer>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-4 footer-link">
				<a href="mailto:rachel5566kk@gmail.com">
					<span class="icon icon-email">
						<img src="/assets/svg/email-logo.svg" alt="Email Logo">
					</span>
					<span class="username">rachel5566kk@gmail.com</span>
				</a>
			</div>
			<div class="col-md-4 footer-link">
				<a href="https://github.com/pyliaorachel"  target="_blank">
					<span class="icon icon-github">
						<img src="/assets/svg/github-logo.svg" alt="GitHub Logo">
					</span>
					<span class="username">pyliaorachel</span>
				</a>
			</div>
			<div class="col-md-4 footer-link">
				<a href="https://tw.linkedin.com/in/peiyu-liao" target="_blank">
					<span class="icon icon-linkedin">
						<img src="/assets/svg/linkedin-logo.svg" alt="LinkedIn Logo">
					</span>
					<span class="username">Peiyu Liao</span>
				</a>
			</div>
		</div><!-- /.row -->
		<div class="row">
			<div class="footer-copy-right">
				<p>2017	&copy; Liao Peiyu</p>
			</div >
		</div><!-- /.row -->
	</div><!-- /.container-fluid -->
</footer>
		<script type="text/javascript" src="/js/main.js"></script>
		<script type="text/javascript" src="/js/home.js"></script>
		<script id="dsq-count-scr" src="//pyliaorachel.disqus.com/count.js" async></script>
	</body>
</html>