<div class="timeline">
	{% assign elements = cv.education %}
	{% for element in cv.experience.work %}
		{% assign elements = elements | push: element %}
	{% endfor %}
	{% for element in cv.experience.voluntary %}
		{% assign elements = elements | push: element %}
	{% endfor %}
	{% for element in cv.experience.competition %}
		{% assign elements = elements | push: element %}
	{% endfor %}
	{% for element in cv.experience.extracurricular %}
		{% assign elements = elements | push: element %}
	{% endfor %}

	{% assign elements = elements | sort: 'start' | reverse %}
	
	<!--{% assign startY = elements.first.start | slice: 0, 4 %}
	{% assign startM = elements.first.start | slice: 4, 2 %}
	{% assign endY = elements.last.start | slice: 0, 4 %}
	{% assign endM = elements.first.start | slice: 4, 2 %}
	
	{% assign totalMonths = startY | minus: endY | plus: 1 | times: 12 | minus: startM | minus: endM %}

	{{ totalMonths}}-->

	{% for element in elements %}

		<div class="timeline-block row">
			<div class="timeline-time col-md-3">
				{% assign startY = element.start | slice: 0, 4 %}
				{% assign startM = element.start | slice: 4, 2 | plus: 0 %}
				{% assign endY = element.end | slice: 0, 4 %}
				{% assign endM = element.end | slice: 4, 2 | plus: 0 %}
				<p>{{ startY }} {{ page.month-convert[startM] }} - {{ endY }} {{ page.month-convert[endM] }}</p>
			</div>

			<div class="timeline-draw col-md-2">
				<div class="timeline-line">
				</div>
				<div class="timeline-circle {{element.type}}-circle">
					<span class="icon icon-{{element.type}}">
						<img src="/assets/svg/{{element.type}}-logo.svg" alt="{{element.type}} Logo">
					</span>
				</div>
				<div class="timeline-line">
				</div>
			</div>

			<div class="timeline-description col-md-7">
				<p class="title">
					{{ element.school | append: element.position | append: element.title}}
					<span class="grey-tag"> 
						{% if element.company and element.company != "" %}
							{{ element.company | append: ', ' | append: element.location}}
						{% else %}
							{{ element.location}}
						{% endif %}
					</span>
				</p>
				{% if element.type == "education" %}
					<p class="education-description">
						{% if element.program != "" %}
							<span class="green-tag">{{ element.program }}</span><br>
						{% endif %}
						{% if element.grade != "" %}
							<span class="green-tag">{{ element.grade }}</span><br>
						{% endif %}

						{% assign awards_size = element.awards | size%}
						{% if awards_size > 1 %}
							<span class="orange-tag">{{ awards_size }} awards</span>
							<!--{% for award in element.awards %}
								<span class="green-tag">{{ awards_size }} awards</span>
							{% endfor %}-->
						{% else if awards_size == 1%}
							<span class="orange-tag">{{ element.awards[0] }}</span>
						{% endif %}
					</p>
				{% else %}
					<p class="non-education-description">
						<span class="green-tag">{{ element.description }}</span><br>

						{% assign highlights_size = element.highlights | size%}
						{% if highlights_size > 1 %}
							<span class="orange-tag">{{ highlights_size }} highlights</span>
							<!--{% for highlight in element.highlights %}
								<span class="green-tag">{{ highlights_size }} highlights</span>
							{% endfor %}-->
						{% else if highlights_size == 1%}
							<span class="orange-tag">{{ element.highlights[0] }}</span>
						{% endif %}
					</p>
				{% endif %}
			</div>
		</div>

	{% endfor %}
</div>
