<!DOCTYPE html>
<html>
	<head>
		<title>Data Stucture Notes</title>
		<link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">
		<link rel="stylesheet" href="/css/main.css" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Antic+Slab|Catamaran|Hind:300|Inconsolata|Josefin+Sans|Muli:300,400i|Poiret+One|Rajdhani:300|Rock+Salt|Ruda|Scope+One|Shadows+Into+Light|Source+Code+Pro|Space+Mono|Amatic+SC:700" rel="stylesheet">
		<link rel="stylesheet" href="/css/github-markdown.css">

		<!-- Place jquery before bootstrap -->
		<script type="text/javascript" src="/js/jquery.min.js"></script>
		<script type="text/javascript" src="/js/bootstrap.min.js"></script>
	</head>
	<body>
		<nav class="navbar navbar-default navbar-fixed-top">
	<div class="container-fluid">

		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">MyCoon</a>
		</div>

		<div class="collapse navbar-collapse" id="navbar-collapse">

			<form class="navbar-form navbar-left">
				<div class="form-group">
					<input type="text" class="form-control" placeholder="Search">
				</div>
				<button type="submit" class="btn btn-default">Submit</button>
			</form>

			<ul class="nav navbar-nav navbar-right" id="nav-links">
				<li class="nav-home"><a href="/">Home</a></li>
				<li class="dropdown nav-blog">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
						Blog<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li><a href="/blog">MyCoon Blog</a></li>
						<li role="separator" class="divider"></li>
						<li><a href="/blog/categories">Categories</a></li>
						
							
						

						
							
							
							<li class="category">
								<a href="/blog/tech">
									<span>Tech</span>
									<span>9</span>
								</a>
							</li>
						
							
							
							<li class="category">
								<a href="/blog/notes">
									<span>Notes</span>
									<span>5</span>
								</a>
							</li>
						
						<li><a href="/blog/tags">Tags</a></li>
					</ul>
				</li>
				<li class="dropdown nav-tutorial">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
						Tutorials<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li><a href="/tutorial">MyCoon Tutorial</a></li>
						<li role="separator" class="divider"></li>
						<li><a href="/tutorial/categories">Categories</a></li>
						
							
						

						
							
							
							<li class="category">
								<a href="/tutorial/devops">
								<span>DevOps</span>
								<span>1</span></a>
							</li>
						
							
							
							<li class="category">
								<a href="/tutorial/hardware">
								<span>Hardware</span>
								<span>1</span></a>
							</li>
						
						<li><a href="/tutorial/tags">Tags</a></li>
					</ul>
				</li>
				<li  class="nav-project"><a href="/project">Projects</a></li>
				<li class="nav-special" id="special"><a href="#">?</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</div><!-- /.container-fluid -->
</nav>
		<main class="page-content post" aria-label="Content">
	<div class="post-wrapper">
		<div class="wrapper">
	<article class="post-article" itemscope itemtype="http://schema.org/BlogPosting">

		<header class="post-header">
			<h1 class="post-title" itemprop="name headline">Data Stucture Notes</h1>
			<p class="post-meta">Nov 9, 2016
				 • Notes
				 • pyliaorachel
			</p>
		</header>

		

		<span class="separator"> • • • </span>

		<div class="post-content" itemprop="articleBody">
			<p>Data stucture notes for coding competitions.</p>

<h2>Content</h2>

<ol>
<li>BST</li>
<li>Monotone Queue</li>
<li>Block List</li>
<li>Merge-Find Set</li>
<li>Split &amp; Join AVL</li>
<li>Persistent AVL</li>
</ol>

<!--more-->

<hr>

<h2>BST</h2>

<ul>
<li><code>map</code>

<ul>
<li>Dictionary</li>
<li>Insertion, deletion, searching </li>
</ul></li>
<li><code>lower_bound</code>, <code>upper_bound</code>

<ul>
<li>Find element in range</li>
</ul></li>
</ul>

<p><a href="http://acm.timus.ru/problem.aspx?space=1&amp;num=1613">For Fans of Statistics</a>
<a href="http://poj.org/problem?id=2418">Hardwood Species</a></p>

<h2>Monotone Queue</h2>

<ul>
<li>Basic operations

<ul>
<li><code>push</code> in <code>O(1)</code></li>
<li><code>pop</code> in <code>O(1)</code></li>
<li><code>max</code>/<code>min</code> in <code>O(1)</code></li>
</ul></li>
<li>Implementation</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">Insert(k):
    while (queue not empty) and (tail element &gt;= k):
        discard tail
    append k to tail

Min():
    return head of queue
</code></pre></div>
<p><a href="http://poj.org/problem?id=2823">Sliding Window</a></p>

<h2>Block List</h2>

<ul>
<li>Structure

<ul>
<li>Partition indices into <code>O(sqrt(n))</code> segments, each of length <code>O(sqrt(n))</code></li>
</ul></li>
<li>Basic operations

<ul>
<li><code>insert</code></li>
<li><code>delete</code></li>
<li>Range operation on <code>[i,j]</code> in <code>O(sqrt(n))</code></li>
</ul></li>
<li>Implementation</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">Insert(x):
    # invariant: each segment has elements &gt;= L and &lt; 3L; OR only one segment &lt; 3L

    locate segment S # O(sqrt(n))
    brute force insertion on S # O(L)
    if size(S) == 3L:
        evenly split into 2 segments

Delete(x):
    locate segment S # O(sqrt(n))
    brute force deletion on S # O(L)
    if size(S) == L and S has adjacent segment:
        combine 2 segments
        evenly split into 2 segments

# range operation
# change &amp; sum as example

## change [i,j] to x
Change(i, j, x):
    if i == l and j == r: # O(1)
        b = true
        y = x
        s = x * (r - l + 1)
    else: # O(L)
        if b == true:
            set every element in [l,r] to y
            b = false
        set every element in [i,j] to x
        calculate s

## query [i,j]
Query(i, j):
    if i == l and j == r: # O(1)
        return s
    else: # O(L)
        if b == ture:
            set every element in [l,r] to y
            b = false
        set every element in [i,j] to x
        calculate s
        return s
</code></pre></div>
<p><a href="http://poj.org/problem?id=3580">SuperMemo</a></p>

<h2>Merge-Find Set</h2>

<p><a href="https://en.wikipedia.org/wiki/Disjoint-set_data_structure">Wiki</a></p>

<ul>
<li>Structure

<ul>
<li>A ground set <code>S</code></li>
<li>A collection <code>C</code> of subsets of <code>S</code> where 2 different elements in <code>C</code> are disjoint</li>
</ul></li>
<li>Basic operations

<ul>
<li><code>union</code>: union 2 subsets</li>
<li><code>find</code>: find the subset a specific elememt is in</li>
<li><code>test</code>: test where 2 elements are in the same subset</li>
</ul></li>
<li>Implementation (linear)</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">P: P[i] = parent of i in S
F(P): forest difined by P

Find(x):
    while P[x] != x:
        x = P[x]
    return x # root

Union(x):
    P[Find(x)] = Find(y)

Test(x, y):
    return Find(x) == Find(y)
</code></pre></div>
<ul>
<li>Implementation (optimized)</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">R: rank of element; init R = {0}

Find(x): # path compression
    if P[x] != x:
        P[x] = Find(P[x])
    return x

Union(x): # union by rank
    x' = Find(x)
    y' = Find(y)
    if R[x'] &lt; R[y']:
        P[x'] = y'
    elif R[x'] &gt; R[y']:
        P[y'] = x'
    else:
        P[x'] = y'
        R[y']++
</code></pre></div>
<h3>Extension 1: Maintaining the Difference</h3>

<p>For each element <code>i</code>, <code>V[i]</code> is the underlying unknown integer. Information <code>V[j] - V[i] = k</code> comes.</p>

<ul>
<li>Problem

<ol>
<li>Consistent with previously known information?</li>
<li>If consistent, record the information</li>
<li><code>V[j] - V[i]</code> uniquely determined?</li>
<li>If unique, answer the value</li>
</ol></li>
<li>Implementation</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">D: difference; D[i] = V[i] - V[P[i]]; init D = {0}

Find(x):
    if P[x] != x:
        (P[x],d) = Find(P[x])
        D[x] += d
    return (x, D[x])

Union(i, j, k): # V[i] - V[j] = k
    (x',D[i]) = Find(i)
    (y',D[j]) = Find(j)
    if R[x'] &lt; R[y']:
        P[x'] = y'
        D[x'] = D[j] - D[i] - k
    elif R[x'] &gt; R[y']:
        P[y'] = x'
        D[y'] = D[i] - D[j] - k
    else:
        P[x'] = y'
        D[x'] = D[j] - D[i] - k
        R[y']++r

</code></pre></div>
<ul>
<li><p>Apply the data structure</p>

<ul>
<li>Provided <code>V[j] - V[i] = k</code>: <code>Union(i,j,k)</code></li>
<li>Answer <code>V[j] - V[i]</code>: if <code>Test(i,j)</code> then <code>return D[j] - D[i]</code><br></li>
</ul></li>
</ul>

<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3038">How Many Answers Are Wrong</a></p>

<h3>Extension 2: XOR</h3>

<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3234">Exclusive-OR</a></p>

<h2>Split &amp; Join AVL</h2>

<ul>
<li>Basic operations

<ul>
<li><code>join</code>: <code>T1</code> &amp; <code>T2</code> are AVL trees, and any keyword in <code>T1</code> is less than any keyword in <code>T2</code>. Return a union in <code>O(|h(T1)-h(T2)|)</code></li>
<li><code>split</code>: return <code>T1</code> with keywords less than <code>k</code> &amp; <code>T2</code> with keywords larger than <code>k</code> in <code>O(h(T))</code></li>
<li><code>insert</code>: <code>split(T,x)</code>: return <code>join(T1,{x},T2)</code></li>
<li><code>delete</code>: <code>split(T,x)</code>: return <code>join(T1,T2)</code></li>
<li><code>intervalSelection</code>: return <code>T</code> with elements <code>k1 &lt;= e &lt;= k2</code></li>
<li><code>intervalCut</code>: cut out interval</li>
<li><code>linkAndCut</code>: <code>intervalCut</code> and link to another place</li>
<li>other statistic maintainenance e.g. min, max, sum</li>
</ul></li>
</ul>

<h2>Persistent AVL</h2>

<p>AVL is link based, and modification operations are <code>join</code> &amp; <code>split</code>. Each time <code>O(logn)</code> nodes visited and modified. Create a copy of <code>root</code> to modified nodes.</p>

<p><a href="https://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=24&amp;page=show_problem&amp;problem=3983">Version Controlled Editor</a></p>

		</div>

		<ul class="tag-list">
			

			<li class="tag">
				competition
			</li>

			

			<li class="tag">
				data structure
			</li>

			
		</ul>

	</article>

	
		<div id="disqus_thread"></div>
<script>
	var disqus_config = function () {
	    this.page.url = "https://pyliaorachel.github.io";
	    this.page.identifier = "/blog/notes/competition/2016/11/09/data-structure-notes.html";
	};
	(function() {
	    var d = document, s = d.createElement('script');
	    s.src = '//pyliaorachel.disqus.com/embed.js';
	    s.setAttribute('data-timestamp', +new Date());
	    (d.head || d.body).appendChild(s);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	
</div>
	</div>
</main>
		<footer>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-4 footer-link">
				<a href="mailto:rachel5566kk@gmail.com">
					<span class="icon icon-email">
						<img src="/assets/svg/email-logo.svg" alt="Email Logo">
					</span>
					<span class="username">rachel5566kk@gmail.com</span>
				</a>
			</div>
			<div class="col-md-4 footer-link">
				<a href="https://github.com/pyliaorachel"  target="_blank">
					<span class="icon icon-github">
						<img src="/assets/svg/github-logo.svg" alt="GitHub Logo">
					</span>
					<span class="username">pyliaorachel</span>
				</a>
			</div>
			<div class="col-md-4 footer-link">
				<a href="https://tw.linkedin.com/in/peiyu-liao" target="_blank">
					<span class="icon icon-linkedin">
						<img src="/assets/svg/linkedin-logo.svg" alt="LinkedIn Logo">
					</span>
					<span class="username">Peiyu Liao</span>
				</a>
			</div>
		</div><!-- /.row -->
		<div class="row">
			<div class="footer-copy-right">
				<p>2017	&copy; Liao Peiyu</p>
			</div >
		</div><!-- /.row -->
	</div><!-- /.container-fluid -->
</footer>
		<script type="text/javascript" src="/js/main.js"></script>
		<script type="text/javascript" src="/js/home.js"></script>
		<script id="dsq-count-scr" src="//pyliaorachel.disqus.com/count.js" async></script>
	</body>
</html>